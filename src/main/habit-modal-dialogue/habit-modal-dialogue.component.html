<div class="habit-dialogue">
  <div class="Header">
    <p class="header-text">New Habit</p>
  </div>
  <div class="name-container">
    <div class="name-text">NAME</div>
    <div class="name-input">
      <input class="input-habit">
      <div class="habit-icon">
        <img alt="Question Mark" class="mark" src="assets/svg/mark.svg">
      </div>
    </div>
  </div>
  <div class="goal-container">
    <div class="goal-text">GOAL</div>
    <div class="goal-input-container">
      <p-inputNumber [(ngModel)]="goalValue" [max]="100" [min]="1" [showButtons]="true"
                     class="up-down-arrows goal-value"
                     inputId="minmax-buttons"></p-inputNumber>
      <div [matMenuTriggerFor]="frequency" class="input-wrapper">
        <input [(ngModel)]="goalFrequency" class="goal-frequency" readonly/>
        <img alt="Up" class="up" src="assets/svg/up.svg"/>
        <img alt="Down" class="down" src="assets/svg/down.svg"/>
      </div>
      <div [matMenuTriggerFor]="frequencyPeriod" class="input-wrapper">
        <input [(ngModel)]="frequencyPerPeriod" class="goal-frequency" readonly/>
        <img alt="Up" class="up" src="assets/svg/up.svg"/>
        <img alt="Down" class="down" src="assets/svg/down.svg"/>
      </div>

    </div>
  </div>

  <div class="repeat-container">
    <div class="repeat-text">REPEAT</div>
    <div class="repeat-input-container">

      <div [matMenuTriggerFor]="repeatMenu" class="input-wrapper">
        <input [value]="getDayValue()" class="repeat-frequency" readonly/>
        <img alt="Up" class="up-repeat" src="assets/svg/up.svg"/>
        <img alt="Down" class="down-repeat" src="assets/svg/down.svg"/>
      </div>
    </div>
  </div>

  <div class="tod-container">
    <div class="tod-text">TIME OF DAY</div>
    <div class="goal-input-container">

      <div [matMenuTriggerFor]="timeDay" class="input-wrapper">
        <input [value]="getTimeOfDayDisplayValue(timeOfDay)" class="tod-input" readonly/>
        <img alt="Up" class="up" src="assets/svg/up.svg"/>
        <img alt="Down" class="down" src="assets/svg/down.svg"/>
      </div>
    </div>
  </div>
  <div class="calender-container">
    <div class="repeat-text">START DATE</div>
    <div class="repeat-input-container">

      <div (click)="toggleCalendar()" [matMenuTriggerFor]="calender" class="input-wrapper">
        <input [value]="getCalenderDisplayValue(startSelectedDate)" class="repeat-frequency" readonly/>
        <img alt="Calender" class="calendar-button" src="assets/svg/calender.svg"/>
      </div>

    </div>
  </div>
  <mat-menu #frequency="matMenu" [hasBackdrop]="false" class="frequency-menu" overlapTrigger="false">
    <button (click)="updateGoalFrequency('Times')" mat-menu-item>
      Times
    </button>
    <button (click)="updateGoalFrequency('Mins')" mat-menu-item>
      Mins
    </button>

  </mat-menu>
  <mat-menu #frequencyPeriod="matMenu" [hasBackdrop]="false" class="frequency-period-menu" overlapTrigger="false">
    <button (click)="updateFrequencyPeriod('Per Day')" mat-menu-item>
      Per Day
    </button>
    <button (click)="updateFrequencyPeriod('Per Week')" mat-menu-item>
      Per Week
    </button>
    <button (click)="updateFrequencyPeriod('Per Month')" mat-menu-item>
      Per Month
    </button>

  </mat-menu>

  <mat-menu #timeDay="matMenu" [hasBackdrop]="false" class="time-day-menu" overlapTrigger="false">
    <button (click)="updateTimeOfDay(TimeOfDay.Morning)" mat-menu-item>
      <img [ngClass]="{'hide-icon': isTimeOfDaySelected(TimeOfDay.Morning)}" alt="tick" class="time-tick-icon"
           src="assets/svg/tick.svg"/>
      <span class="menu-text">Morning</span>
    </button>
    <button (click)="updateTimeOfDay(TimeOfDay.Evening)" mat-menu-item>
      <img [ngClass]="{'hide-icon': isTimeOfDaySelected(TimeOfDay.Evening)}" alt="tick" class="time-tick-icon"
           src="assets/svg/tick.svg"/>
      <span class="menu-text">Evening</span>
    </button>
    <button (click)="updateTimeOfDay(TimeOfDay.Afternoon)" mat-menu-item>
      <img [ngClass]="{'hide-icon': isTimeOfDaySelected(TimeOfDay.Afternoon)}" alt="tick" class="time-tick-icon"
           src="assets/svg/tick.svg"/>
      <span class="menu-text">Afternoon</span>
    </button>

  </mat-menu>
  <div class="modal-footer">
    <div class="buttons">
      <p-button (click)="close()" class="cancel" label="Cancel" size="small"></p-button>
      <p-button class="save" label="Save" size="small"></p-button>
    </div>
  </div>

  <mat-menu #calender="matMenu" [hasBackdrop]="false" class="calender-container" overlapTrigger="false">
    <p-calendar
      (click)="onCalendarClick($event)"
      [(ngModel)]="startSelectedDate"
      [inline]="true"
      [showIcon]="false"
      dateFormat="M d, yy">

    </p-calendar>

  </mat-menu>
  <mat-menu #month="matMenu" [hasBackdrop]="false" class="month-container" overlapTrigger="false">
    <p-calendar
      (click)="onCalendarClick($event)"
      (onSelect)="onDateSelect($event)"
      [(ngModel)]="selectedDate"
      [inline]="true"
      [showIcon]="false">
      <ng-template let-date pTemplate="date">
        <div [ngClass]="{'selected': isSelected(date)}" class="custom-date">
          {{ date.day }}
        </div>
      </ng-template>
    </p-calendar>
  </mat-menu>

  <mat-menu #repeatMenu="matMenu" [hasBackdrop]="false" class="repeat-menu" overlapTrigger="false">
    <button [matMenuTriggerFor]="days" mat-menu-item>
      Daily
    </button>
    <button [matMenuTriggerFor]="month" mat-menu-item>
      Monthly
    </button>
    <button [matMenuTriggerFor]="interval" mat-menu-item>
      Interval
    </button>

  </mat-menu>
  <mat-menu #days="matMenu" [hasBackdrop]="false" class="day-menu" overlapTrigger="false">
    <button (click)="toggleDay(daysOfWeek.Monday)" mat-menu-item>
      <img [ngClass]="{'show':checkDays(daysOfWeek.Monday)}" alt="tick" class="daily-tick-icon"
           src="assets/svg/tick.svg"/>
      Monday
    </button>
    <button (click)="toggleDay(daysOfWeek.Tuesday)" mat-menu-item>
      <img [ngClass]="{'show':checkDays(daysOfWeek.Tuesday)}" alt="tick" class="daily-tick-icon"
           src="assets/svg/tick.svg"/>
      Tuesday
    </button>
    <button (click)="toggleDay(daysOfWeek.Wednesday)" mat-menu-item>
      <img [ngClass]="{'show':checkDays(daysOfWeek.Wednesday)}" alt="tick" class="daily-tick-icon"
           src="assets/svg/tick.svg"/>
      Wednesday
    </button>
    <button (click)="toggleDay(daysOfWeek.Thursday)" mat-menu-item>
      <img [ngClass]="{'show':checkDays(daysOfWeek.Thursday)}" alt="tick" class="daily-tick-icon"
           src="assets/svg/tick.svg"/>
      Thursday
    </button>
    <button (click)="toggleDay(daysOfWeek.Friday)" mat-menu-item>
      <img [ngClass]="{'show':checkDays(daysOfWeek.Friday)}" alt="tick" class="daily-tick-icon"
           src="assets/svg/tick.svg"/>
      Friday
    </button>
    <button (click)="toggleDay(daysOfWeek.Saturday)" mat-menu-item>
      <img [ngClass]="{'show':checkDays(daysOfWeek.Saturday)}" alt="tick" class="daily-tick-icon"
           src="assets/svg/tick.svg"/>
      Saturday
    </button>
    <button (click)="toggleDay(daysOfWeek.Sunday)" mat-menu-item>
      <img [ngClass]="{'show':checkDays(daysOfWeek.Sunday)}" alt="tick" class="daily-tick-icon"
           src="assets/svg/tick.svg"/>
      Sunday
    </button>


  </mat-menu>
  <mat-menu #interval="matMenu" [hasBackdrop]="false" class="interval-menu" overlapTrigger="false">
    <button (click)="updateIntervalPerDays('Repeat Every 2')" mat-menu-item>
      <img [ngClass]="{'show': intervalPerDays ==='Repeat Every 2'}" alt="tick" class="interval-tick-icon"
           src="assets/svg/tick.svg"/>
      Repeat Every 2
    </button>
    <button (click)="updateIntervalPerDays('Repeat Every 3')" mat-menu-item>
      <img [ngClass]="{'show': intervalPerDays ==='Repeat Every 3'}" alt="tick" class="interval-tick-icon"
           src="assets/svg/tick.svg"/>
      Repeat Every 3
    </button>
    <button (click)="updateIntervalPerDays('Repeat Every 4')" mat-menu-item>
      <img [ngClass]="{'show': intervalPerDays ==='Repeat Every 4'}" alt="tick" class="interval-tick-icon"
           src="assets/svg/tick.svg"/>
      Repeat Every 4
    </button>
    <button (click)="updateIntervalPerDays('Repeat Every 5')" mat-menu-item>
      <img [ngClass]="{'show': intervalPerDays ==='Repeat Every 5'}" alt="tick" class="interval-tick-icon"
           src="assets/svg/tick.svg"/>
      Repeat Every 5
    </button>
    <button (click)="updateIntervalPerDays('Repeat Every 6')" mat-menu-item>
      <img [ngClass]="{'show': intervalPerDays ==='Repeat Every 6'}" alt="tick" class="interval-tick-icon"
           src="assets/svg/tick.svg"/>
      Repeat Every 6
    </button>
    <button (click)="updateIntervalPerDays('Repeat Every 7')" mat-menu-item>
      <img [ngClass]="{'show': intervalPerDays ==='Repeat Every 7'}" alt="tick" class="interval-tick-icon"
           src="assets/svg/tick.svg"/>
      Repeat Every 7
    </button>


  </mat-menu>


</div>

